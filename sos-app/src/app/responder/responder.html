<div class="admin-container">
	<!-- Login Form -->
	<div *ngIf="!isLoggedIn" class="login-form">
		<h2>Admin Login</h2>
		<form (ngSubmit)="login()">
			<label for="username">Username:</label>
			<input id="username" [(ngModel)]="username" name="username" required>
			<label for="password">Password:</label>
			<input id="password" type="password" [(ngModel)]="password" name="password" required>
			<button type="submit">Login</button>
			<div class="error" *ngIf="loginError">{{ loginError }}</div>
		</form>
	</div>

	<!-- Admin Controls & Map -->
	<div *ngIf="isLoggedIn" class="admin-panel">
		<div class="controls">
			<button (click)="refreshAlerts()">Refresh Alerts</button>
			<button (click)="logout()">Logout</button>
		</div>
		<div class="alerts-list">
			<h3>Active SOS Alerts</h3>
			<div class="alerts-card">
				<ul>
					<li *ngFor="let alert of alerts" class="alert-item">
						<div>
							<span class="alert-id">ID: {{ alert.id }}</span>
							<span class="alert-coords">Lat: {{ alert.lat }} | Lon: {{ alert.lon }}</span>
							<span class="alert-time">Time: {{ alert.timestamp | date:'short' }}</span>
						</div>
					</li>
				</ul>
				<div *ngIf="alerts.length === 0" class="no-alerts">No active SOS alerts.</div>
			</div>
		</div>
		<div class="map-container">
			<div id="map"></div>
		</div>
	</div>
</div>
